(this["webpackJsonphome-appointment"]=this["webpackJsonphome-appointment"]||[]).push([[0],{237:function(e,t,a){e.exports=a.p+"static/media/spinner.235b9b3e.gif"},239:function(e,t,a){e.exports=a(435)},398:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(35),o=a.n(c),l=a(7),s=a(6),i=a(442),m=a(438),u=a(445),p=a(443),d=a(437),h=a(9),E=Object(h.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.signOut,a=e.profile;return n.a.createElement(u.a,{horizontal:!0,as:"ul"},n.a.createElement(u.a.Item,{className:"my-3 px-2 py-1 bg-dark border-0",as:"li"},n.a.createElement(p.a.Item,{className:"ml-1 text-light text-decoration-none",as:l.c,to:"/create"},"New Project")),n.a.createElement(u.a.Item,{className:"my-3 px-2 py-1 bg-dark border-0",as:"li"},n.a.createElement(p.a.Item,{className:"ml-1 text-light text-decoration-none logout",as:"a",onClick:t},"Log Out")),n.a.createElement(u.a.Item,{className:"my-auto px-2 py-1 bg-dark border-0",as:"li"},n.a.createElement(p.a.Item,{className:"ml-1",as:l.c,to:"/"},n.a.createElement("h3",{className:"d-inline-block mb-0 text-uppercase"},n.a.createElement(d.a,{variant:"success"},a.initials)))))})),b=function(){return n.a.createElement(u.a,{horizontal:!0,as:"ul"},n.a.createElement(u.a.Item,{className:"my-3 px-2 py-1 bg-dark border-0",as:"li"},n.a.createElement(p.a.Item,{className:"ml-1 text-light text-decoration-none",as:l.c,to:"/signup"},"Signup")),n.a.createElement(u.a.Item,{className:"my-3 px-2 py-1 bg-dark border-0",as:"li"},n.a.createElement(p.a.Item,{className:"ml-1 text-light text-decoration-none",as:l.c,to:"/signin"},"Login")))},g=Object(h.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=e.profile,r=t.uid?n.a.createElement(E,{profile:a}):n.a.createElement(b,null);return n.a.createElement(i.a,{className:"py-0 mb-3 mb-md-5",sticky:"top",bg:"dark",variant:"dark"},n.a.createElement(m.a,null,n.a.createElement(i.a.Brand,{as:l.b,to:"/"},"Travel Planer"),r))})),f=a(27),j=a(28),N=a(31),y=a(30),O=a(439),C=a(236),x=a(444),v=a(56),R=a.n(v),S=function(e){var t=e.notifications;return n.a.createElement(m.a,null,n.a.createElement(x.a,{className:"notifications border-0 my-3"},n.a.createElement(x.a.Body,{className:"text-secondary pb-2"},n.a.createElement(x.a.Title,{as:"h4",className:"text-dark"},"Notifications")),n.a.createElement(x.a.Footer,{className:"blockquote py-0 card-footer border-0"},t&&t.map((function(e){return n.a.createElement(n.a.Fragment,{key:e.id},n.a.createElement("p",{className:"d-inline-block my-1 lead font-weight-normal text-info text-capitalize"},e.user,"  ",n.a.createElement("cite",{style:{color:"#6c757d"},title:"Source Title"},e.content)),n.a.createElement("p",{className:"text-secondary lead"},R()(e.time.toDate()).fromNow()))})))))},I=function(e){var t=e.project;return n.a.createElement(x.a,{className:"project-summary border-0 my-3"},n.a.createElement(x.a.Body,{className:"text-secondary pb-2"},n.a.createElement(x.a.Title,{as:"h4",className:"text-dark font-weight-bold"},t.title)),n.a.createElement(x.a.Footer,{className:"blockquote-footer py-0 card-footer border-0"},n.a.createElement("p",{className:"d-inline-block my-1 lead font-weight-normal"},"Posted by ",n.a.createElement("cite",{title:"Source Title"},t.authorFirstName," ",t.authorLastName)),n.a.createElement("p",{className:"text-secondary lead"},t.createdAt&&R()(t.createdAt.toDate()).calendar())))},w=function(e){var t=e.projects;return n.a.createElement(m.a,{className:"project-list"},t&&t.map((function(e){return n.a.createElement(l.b,{className:"text-decoration-none",to:"/project/"+e.id,key:e.id},n.a.createElement(I,{project:e}))})))},T=a(14),P=a(21),L=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.projects,a=e.auth,r=e.notifications;return a.uid?n.a.createElement(m.a,{className:"dashboard my-3z-index-2 pos-abs"},n.a.createElement(O.a,null,n.a.createElement(C.a,{xs:12,md:6},n.a.createElement(w,{projects:t})),n.a.createElement(C.a,{xs:12,md:{span:5,offset:1}},n.a.createElement(S,{notifications:r})))):n.a.createElement(s.a,{to:"/signin"})}}]),a}(r.Component),k=Object(T.d)(Object(h.b)((function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}})),Object(P.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(L),F=a(440),_=a(15),A=Object(T.d)(Object(h.b)((function(e,t){var a=t.match.params.id,r=e.firestore.data.projects;return{project:r?r[a]:null,auth:e.firebase.auth}}),(function(e){return{deleteProject:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=r.getFirestore;console.log(e,"project action"),n().collection("projects").doc(e).delete().then((function(){t({type:"DELETE_PROJECT"})})).catch((function(e){t({type:"DELETE_PROJECT_ERROR",err:e})}))}}(t))}}})),Object(P.firestoreConnect)([{collection:"projects"}]))((function(e){var t=e.match,a=e.project,r=e.deleteProject,c=e.auth,o=t.params.id;return c.uid?a?n.a.createElement(m.a,{className:"project-details"},n.a.createElement(x.a,{className:"border-0"},n.a.createElement(x.a.Body,null,n.a.createElement(x.a.Title,{as:"h1",className:"text-dark"},a.title),n.a.createElement("p",{className:"blockquote pl-3"},a.content)),n.a.createElement(x.a.Footer,{className:"blockquote-footer py-0 card-footer border-secondary"},n.a.createElement("p",{className:"d-inline-block my-1 lead font-weight-normal"},"Posted by ",n.a.createElement("cite",{title:"Source Title"},a.authorFirstName," ",a.authorLastName)),n.a.createElement("p",{className:"text-secondary lead"},a.createdAt&&R()(a.createdAt.toDate()).calendar()))),n.a.createElement(F.a,{variant:"danger float-right mt-3 mx-1",type:"button",as:l.b,to:"/",onClick:function(){return r(o)}},"Delete"),n.a.createElement(F.a,{variant:"success float-right mt-3 mx-1",type:"button",as:l.b,to:"/project/edit/"+o},"Edit"),n.a.createElement(F.a,{variant:"info float-right mt-3 mx-1",type:"button",as:l.b,to:"/"},"Go Home")):n.a.createElement(m.a,null,n.a.createElement(x.a,null,n.a.createElement(x.a.Body,null,n.a.createElement("p",{className:"text-center"},"Loading project . . .")))):n.a.createElement(s.a,{to:"/signin"})})),G=a(29),U=a(441),D=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={title:"",content:""},e.handleChange=function(t){console.log(t.target.id),e.setState(Object(G.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createProject(e.state),e.props.history.push("/")},e}return Object(j.a)(a,[{key:"render",value:function(){return this.props.auth.uid?n.a.createElement(m.a,null,n.a.createElement(U.a,{onSubmit:this.handleSubmit},n.a.createElement("h3",{className:"text-light mb-4"},"Create new plan"),n.a.createElement(U.a.Group,{className:"col-6",controlId:"title"},n.a.createElement(U.a.Label,{className:"text-light"},"Title"),n.a.createElement(U.a.Control,{onChange:this.handleChange,type:"text",placeholder:"Enter Title"})),n.a.createElement(U.a.Group,{className:"col-6",controlId:"content"},n.a.createElement(U.a.Label,{className:"text-light"},"Plan Content"),n.a.createElement(U.a.Control,{as:"textarea",rows:"4",onChange:this.handleChange,placeholder:"Enter Content"})),n.a.createElement(F.a,{variant:"primary",type:"submit"},"Create"))):n.a.createElement(s.a,{to:"/signin"})}}]),a}(r.Component),J=Object(h.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)(),c=a().firebase.profile,o=a().firebase.auth.uid;n.collection("projects").add(Object(_.a)(Object(_.a)({},e),{},{authorFirstName:c.firstName,authorLastName:c.lastName,authorId:o,createdAt:new Date})).then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",err:e})}))}}(t))}}}))(D),B=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(G.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state),e.props.history.push("/")},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?n.a.createElement(s.a,{to:"/"}):n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,null,n.a.createElement(U.a,{onSubmit:this.handleSubmit},n.a.createElement("h3",{className:"text-light mb-4"},"Sign In"),n.a.createElement(U.a.Group,{className:"col-md-6",controlId:"email"},n.a.createElement(U.a.Label,{className:"text-light"},"Email address"),n.a.createElement(U.a.Control,{onChange:this.handleChange,type:"email",placeholder:"Enter email"})),n.a.createElement(U.a.Group,{className:"col-md-6",controlId:"password"},n.a.createElement(U.a.Label,{className:"text-light"},"Password"),n.a.createElement(U.a.Control,{onChange:this.handleChange,type:"password",placeholder:"Enter password"}),n.a.createElement(U.a.Text,{className:"text-light",id:"passwordHelpBlock"},"Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.")),n.a.createElement(F.a,{variant:"primary",type:"submit"},"Login"),t?n.a.createElement(m.a,{className:"text-center text-danger bg-light col-md-6 py-4 rounded",style:{opacity:".7"}},n.a.createElement("p",{className:"m-0 font-weight-bold"},t)):null)),n.a.createElement(m.a,{className:"col-auto bg-secondary",style:{position:"absolute",top:"12%",right:"8%",opacity:".8"}},n.a.createElement("p",{className:"mb-1 font-weight-bolder text-light"},"Test email and password"),n.a.createElement("p",{className:"ml-2 my-0 text-light"},"Email: testing@test.com"),n.a.createElement("p",{className:"ml-2 my-0 text-light"},"Password: test1234")))}}]),a}(r.Component),H=Object(h.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(B),z=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(G.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?n.a.createElement(s.a,{to:"/"}):n.a.createElement(m.a,null,n.a.createElement(U.a,{onSubmit:this.handleSubmit},n.a.createElement("h3",{className:"text-light mb-4"},"Sign Up"),n.a.createElement(U.a.Group,{className:"col-md-6",controlId:"email"},n.a.createElement(U.a.Label,{className:"text-light"},"Email address"),n.a.createElement(U.a.Control,{onChange:this.handleChange,type:"email",placeholder:"Enter email"})),n.a.createElement(U.a.Group,{className:"col-md-6",controlId:"password"},n.a.createElement(U.a.Label,{className:"text-light"},"Password"),n.a.createElement(U.a.Control,{onChange:this.handleChange,type:"password",placeholder:"Enter password"}),n.a.createElement(U.a.Text,{className:"text-light",id:"passwordHelpBlock"},"Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.")),n.a.createElement(U.a.Group,{className:"col-md-6",controlId:"lastName"},n.a.createElement(U.a.Label,{className:"text-light"},"Last Name"),n.a.createElement(U.a.Control,{onChange:this.handleChange,type:"text",placeholder:"Enter Last Name"})),n.a.createElement(U.a.Group,{className:"col-md-6",controlId:"firstName"},n.a.createElement(U.a.Label,{className:"text-light"},"First Name"),n.a.createElement(U.a.Control,{onChange:this.handleChange,type:"text",placeholder:"Enter First Name"})),n.a.createElement(F.a,{variant:"primary",type:"submit"},"Sign up"),a?n.a.createElement(m.a,{className:"text-center text-danger bg-light col-md-6 py-4 rounded",style:{opacity:".7"}},n.a.createElement("p",{className:"m-0 font-weight-bold"},a)):null))}}]),a}(r.Component),q=Object(h.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,r){var n=r.getFirebase,c=r.getFirestore,o=n(),l=c();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return l.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(z),W=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={title:"",content:""},e.handleChange=function(t){console.log(t.target.id);var a=e.props.project,r=a.authorFirstName,n=a.authorLastName,c=a.authorId,o=a.createdAt;e.setState(Object(G.a)({authorFirstName:r,authorId:c,authorLastName:n,createdAt:o},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.editProject(e.state,e.props.match.params.id),console.log(e.state,"submit"),e.props.history.push("/")},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.project,a=e.auth;return console.log(a,"auth"),console.log(t,"project"),a.uid?t?n.a.createElement(m.a,null,n.a.createElement(U.a,{onSubmit:this.handleSubmit},n.a.createElement("h3",{className:"text-light mb-4"},"Edit plan"),n.a.createElement(U.a.Group,{className:"col-6",controlId:"title"},n.a.createElement(U.a.Label,{className:"text-light"},"Title"),n.a.createElement(U.a.Control,{onChange:this.handleChange,name:"title",type:"text",placeholder:"Enter Title"})),n.a.createElement(U.a.Group,{className:"col-6",controlId:"content"},n.a.createElement(U.a.Label,{className:"text-light"},"Plan Content"),n.a.createElement(U.a.Control,{as:"textarea",rows:"4",onChange:this.handleChange,name:"content",placeholder:"Enter Content"})),n.a.createElement(F.a,{variant:"primary",type:"submit"},"Edit"))):n.a.createElement(m.a,null,n.a.createElement(x.a,null,n.a.createElement(x.a.Body,null,n.a.createElement("p",{className:"text-center"},"Loading project . . .")))):n.a.createElement(s.a,{to:"/signin"})}}]),a}(r.Component),M=Object(T.d)(Object(h.b)((function(e,t){var a=t.match.params.id,r=e.firestore.data.projects;return{project:r?r[a]:null,auth:e.firebase.auth}}),(function(e){return{editProject:function(t,a){return e(function(e,t){return function(a,r,n){n.getFirebase;(0,n.getFirestore)().collection("projects").doc(t).set(Object(_.a)(Object(_.a)({},e),{},{updatedAt:new Date})).then((function(){a({type:"UPDATE_PROJECT",project:e})})).catch((function(e){a({type:"UPDATE_PROJECT_ERROR",err:e})}))}}(t,a))}}})),Object(P.firestoreConnect)([{collection:"projects"}]))(W);var Y=function(){return n.a.createElement(l.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(g,null),n.a.createElement(s.d,null,n.a.createElement(s.b,{exact:!0,path:"/",component:k}),n.a.createElement(s.b,{exact:!0,path:"/project/edit/:id",component:M}),n.a.createElement(s.b,{path:"/project/:id",component:A}),n.a.createElement(s.b,{path:"/create",component:J}),n.a.createElement(s.b,{path:"/signin",component:H}),n.a.createElement(s.b,{path:"/signup",component:q}))))},K=(a(397),a(398),{authError:null}),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(_.a)(Object(_.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(_.a)(Object(_.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(_.a)(Object(_.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(_.a)(Object(_.a)({},e),{},{authError:t.err.message});default:return e}},Q={projects:[{id:"1",title:"help me find peach",content:"blah blah blah"},{id:"2",title:"collect all the stars",content:"blah blah blah"},{id:"3",title:"egg hunt with yoshi",content:"blah blah blah"}]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return console.log("created project",t.project),e;case"CREATE_PROJECT_ERROR":return console.log("create project error",t.err),e;case"DELETE_PROJECT":return console.log("delete project"),e;case"DELETE_PROJECT_ERROR":return console.log("delete project error",t.err),e;case"EDIT_PROJECT":return console.log("edit project"),e;case"UPDATE_PROJECT":return console.log("update project"),e;case"UPDATE_PROJECT_ERROR":return console.log("update project error",t.err),e;default:return e}},X=a(58),$=Object(T.c)({auth:Z,project:V,firebase:P.firebaseReducer,firestore:X.firestoreReducer}),ee=a(237),te=a.n(ee),ae=function(){return n.a.createElement(m.a,{className:"loading d-flex justify-content-center"},n.a.createElement("img",{src:te.a,alt:"Loading"}))},re=a(238),ne=a(45),ce=a.n(ne);a(430),a(432);ce.a.initializeApp({apiKey:"AIzaSyC0Bp_ipGeTcbReHcrpr7Zm3432Ib26bjg",authDomain:"project-planer-42ca1.firebaseapp.com",databaseURL:"https://project-planer-42ca1.firebaseio.com",projectId:"project-planer-42ca1",storageBucket:"project-planer-42ca1.appspot.com",messagingSenderId:"1053513584750",appId:"1:1053513584750:web:205d2e19de2877b991567f",measurementId:"G-EH46SW6SMH"}),ce.a.firestore();var oe=ce.a,le=Object(T.e)($,Object(T.d)(Object(T.a)(re.a.withExtraArgument({getFirebase:P.getFirebase,getFirestore:X.getFirestore})),Object(X.reduxFirestore)(ce.a,oe))),se={userProfile:"users",useFirestoreForProfile:!0,enableRedirectHandling:!1,resetBeforeLogin:!1,fbConfig:oe},ie={firebase:ce.a,config:se,dispatch:le.dispatch,createFirestoreInstance:X.createFirestoreInstance,attachAuthIsReady:!0};function me(e){var t=e.children,a=Object(h.c)((function(e){return e.firebase.auth}));return Object(P.isLoaded)(a)?t:n.a.createElement(ae,null)}o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(h.a,{store:le},n.a.createElement(P.ReactReduxFirebaseProvider,ie,n.a.createElement(me,null,n.a.createElement(Y,null))))),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.7e1bc4a1.chunk.js.map